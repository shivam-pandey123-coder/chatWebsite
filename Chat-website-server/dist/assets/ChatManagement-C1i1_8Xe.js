import{r as m,j as a,w as n,S as c,c as p,s as f,$ as o}from"./index-CmQY8uF5.js";import{A as w}from"./AdminLayout-DTCWDxiv.js";import{A as i}from"./AvatarCard-BpJv3msd.js";import{T as v}from"./Table-53gSOLKi.js";import{A as b}from"./Avatar-D5RUx6lz.js";import"./Menu-Bzmw160M.js";import"./Modal-BScw2avD.js";import"./Typography-CkiNPmcL.js";import"./IconButton-DqD8OHsx.js";import"./ExitToApp-C32h__LY.js";import"./Menu-o7Jrpwe1.js";import"./Container-Bf2RFnZ5.js";import"./TextField-BhZ99sdC.js";import"./isMuiElement-CutwVOsY.js";import"./Tooltip-BB9SJ6_Q.js";import"./Toolbar-SJDBs5Az.js";import"./MenuItem-BnJtxvvW.js";import"./Button-B5GyiZWC.js";import"./InputAdornment-D83uNrPo.js";import"./CircularProgress-CkY0fZpN.js";const C=[{field:"id",headerName:"ID",headerClassName:"table-header",width:200},{field:"avatar",headerName:"Avatar",headerClassName:"table-header",width:150,renderCell:e=>a.jsx(i,{avatar:e.row.avatar})},{field:"name",headerName:"Name",headerClassName:"table-header",width:300},{field:"totalMembers",headerName:"Total Members",headerClassName:"table-header",width:200},{field:"members",headerName:"Members",headerClassName:"table-header",width:400,renderCell:e=>a.jsx(i,{max:100,avatar:e.row.members})},{field:"totalMessages",headerName:"Total Messages",headerClassName:"table-header",width:200},{field:"creator",headerName:"Created By",headerClassName:"table-header",width:250,renderCell:e=>a.jsxs(c,{direction:"row",alignItems:"center",spacing:"1rem",children:[a.jsx(b,{alt:e.row.creator.name,src:e.row.creator.avatar}),a.jsx("span",{children:e.row.creator.name})]})}],F=()=>{const[e,l]=m.useState([]),[h,d]=m.useState(!0);return m.useEffect(()=>{(async()=>{try{const{data:t}=await p.get(`${f}/api/v1/admin/chats`,{withCredentials:!0});l(t==null?void 0:t.chats.map(r=>({...r,id:r._id,avatar:r.avatar.map(s=>o(s,50)),members:r.members.map(s=>o(s.avatar,50)),creator:{name:r.creator.name,avatar:o(r.creator.avatar,50)}}))),d(!1)}catch(t){console.error("Error fetching data:",t),d(!1)}})()},[]),h?a.jsx(n,{height:"100vh"}):a.jsx(w,{children:a.jsx(v,{heading:"All Chats",columns:C,rows:e})})};export{F as default};
