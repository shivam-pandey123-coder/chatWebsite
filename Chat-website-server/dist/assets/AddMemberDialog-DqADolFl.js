import{u as S,e as y,b3 as k,r as w,j as r,S as n,w as C,b9 as D,ak as E}from"./index-CmQY8uF5.js";import{U as H}from"./UserItem-CkmZxszn.js";import{b as T,a as B}from"./hook-DRE589nN.js";import{D as F,a as I}from"./DialogTitle-DKGLJ31E.js";import{T as L}from"./Typography-CkiNPmcL.js";import{B as m}from"./Button-B5GyiZWC.js";import"./ListItem-BJeb1vY7.js";import"./Menu-o7Jrpwe1.js";import"./Modal-BScw2avD.js";import"./isMuiElement-CutwVOsY.js";import"./Avatar-D5RUx6lz.js";import"./IconButton-DqD8OHsx.js";const P=({chatId:i})=>{var d,c;const l=S(),{isAddMember:p}=y(e=>e.misc),{isLoading:u,data:s,isError:b,error:h}=k(i),[x,g]=T(D),[a,M]=w.useState([]),j=e=>{M(o=>o.includes(e)?o.filter(A=>A!==e):[...o,e])},f=async()=>{try{const e=await x("Adding Members...",{members:a,chatId:i})}catch(e){console.error("Error while adding members:",e)}t()},t=()=>{l(E(!1))};return B([{isError:b,error:h}]),r.jsx(F,{open:p,onClose:t,children:r.jsxs(n,{p:"2rem",width:"20rem",spacing:"2rem",children:[r.jsx(I,{textAlign:"center",children:"Add Member"}),r.jsx(n,{spacing:"1rem",children:u?r.jsx(C,{}):((d=s==null?void 0:s.friends)==null?void 0:d.length)>0?(c=s==null?void 0:s.friends)==null?void 0:c.map(e=>r.jsx(H,{user:e,handler:j,isAdded:a.includes(e._id)},e._id)):r.jsx(L,{textAlign:"center",children:"No Friends"})}),r.jsxs(n,{direction:"row",justifyContent:"center",alignItems:"center",children:[r.jsx(m,{onClick:t,color:"error",children:"Cancel"}),r.jsx(m,{onClick:f,variant:"contained",disabled:g,children:"Submit changes"})]})]})})};export{P as default};
