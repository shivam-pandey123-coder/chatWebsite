import{e as C,u as v,b3 as y,r as N,j as e,S as i,w as M,b4 as S,_ as c,P as T}from"./index-CmQY8uF5.js";import{U as k}from"./UserItem-CkmZxszn.js";import{z as A}from"./index-s6MUvYlc.js";import{b as D,a as E}from"./hook-DRE589nN.js";import{D as H,a as _}from"./DialogTitle-DKGLJ31E.js";import{T as z}from"./TextField-BhZ99sdC.js";import{T as B}from"./Typography-CkiNPmcL.js";import{B as m}from"./Button-B5GyiZWC.js";import"./ListItem-BJeb1vY7.js";import"./Menu-o7Jrpwe1.js";import"./Modal-BScw2avD.js";import"./isMuiElement-CutwVOsY.js";import"./Avatar-D5RUx6lz.js";import"./IconButton-DqD8OHsx.js";const Z=()=>{var l;const{isNewGroup:u}=C(r=>r.misc),p=v(),{isError:d,isLoading:x,error:h,data:o}=y(),[f,b]=D(S),s=A(""),[t,j]=N.useState([]);E([{isError:d,error:h}]);const g=r=>{j(n=>n.includes(r)?n.filter(G=>G!=r):[...n,r])},w=()=>{if(!s.value)return c.error("Group name is required");if(t.length<2)return c.error("please select atleast 3 members");f("Creating New Group...",{name:s.value,members:t}),a()},a=()=>{p(T(!1))};return e.jsx(H,{open:u,onClose:a,children:e.jsxs(i,{p:{xs:"1rem",sm:"3rem"},width:"25rem",spacing:"2rem",children:[e.jsx(_,{textAlign:"center",variant:"h4",children:"New Group"}),e.jsx(z,{label:"Group Name",value:s.value,onChange:s.changeHandler}),e.jsx(B,{variant:"body1",justifyContent:"space-between",children:"Members"}),e.jsx(i,{children:x?e.jsx(M,{}):(l=o==null?void 0:o.friends)==null?void 0:l.map(r=>e.jsx(k,{user:r,handler:g,isAdded:t.includes(r._id)},r._id))}),e.jsxs(i,{direction:"row",justifyContent:"space-evenly",children:[e.jsx(m,{onClick:a,variant:"outlined",color:"error",size:"large",children:"Cancel"}),e.jsx(m,{variant:"contained",disabled:b,size:"large",onClick:w,children:"Create"})]})]})})};export{Z as default};
